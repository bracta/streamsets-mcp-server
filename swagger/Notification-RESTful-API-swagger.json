{"swagger":"2.0","info":{"description":"Provides API to manage Notifications in DPM","version":"1.0.0","title":"Notification RESTful API"},"basePath":"/notification/rest","tags":[{"name":"alerts"},{"name":"bannedEmails"},{"name":"el"},{"name":"eventsubs"},{"name":"events"},{"name":"externalActions"}],"paths":{"/v1/alerts/ackAlerts":{"post":{"tags":["alerts"],"summary":"Acknowledge Alert for all given alert IDs","description":"","operationId":"ackAlerts","produces":["application/json"],"parameters":[{"in":"body","name":"body","required":false,"schema":{"type":"array","items":{"type":"string"}}}],"security":[{"basic":[]}],"responses":{"default":{"description":"successful operation"}}}},"/v1/alerts":{"get":{"tags":["alerts"],"summary":"Get all alerts","description":"","operationId":"getAlerts","produces":["application/json"],"parameters":[{"name":"offset","in":"query","required":false,"type":"integer","default":0,"format":"int32"},{"name":"len","in":"query","required":false,"type":"integer","default":-1,"format":"int32"},{"name":"orderBy","in":"query","required":false,"type":"string","default":"TRIGGERED_ON","enum":["TRIGGERED_ON","ALERT_TYPE","LABEL"]},{"name":"order","in":"query","required":false,"type":"string","default":"ASC","enum":["ASC","DESC"]},{"name":"alertStatus","in":"query","required":false,"type":"string","default":"ACTIVE","enum":["ACTIVE","ACKNOWLEDGED"]},{"name":"filterText","in":"query","required":false,"type":"string"},{"name":"withWrapper","in":"query","required":false,"type":"boolean"}],"security":[{"basic":[]}],"responses":{"default":{"description":"successful operation"}}}},"/v1/alerts/deleteAlerts":{"post":{"tags":["alerts"],"summary":"Delete Alert for all given alert IDs","description":"","operationId":"deleteAlerts","produces":["application/json"],"parameters":[{"in":"body","name":"body","required":false,"schema":{"type":"array","items":{"type":"string"}}}],"security":[{"basic":[]}],"responses":{"default":{"description":"successful operation"}}}},"/v1/alerts/{alertId}/acl":{"get":{"tags":["alerts"],"summary":"Get ACL for a given alert","description":"","operationId":"getAlertAcl","produces":["application/json"],"parameters":[{"name":"alertId","in":"path","required":true,"type":"string"}],"security":[{"basic":[]}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/AclJson"}}}},"post":{"tags":["alerts"],"summary":"Update ACL for a given alert","description":"","operationId":"updateAlertAcl","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"alertId","in":"path","required":true,"type":"string"},{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/AclJson"}}],"security":[{"basic":[]}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/AclJson"}}}}},"/v1/alerts/{alertId}/permissions/{subjectId}":{"get":{"tags":["alerts"],"summary":"Get permissions on a given alert for a given subject","description":"","operationId":"getAlertPermissionsForSubject","produces":["application/json"],"parameters":[{"name":"alertId","in":"path","required":true,"type":"string"},{"name":"subjectId","in":"path","required":true,"type":"string"}],"security":[{"basic":[]}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/AclJson"}}}},"post":{"tags":["alerts"],"summary":"Update permissions on a given alert for a given subject","description":"","operationId":"updatePermissions","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"alertId","in":"path","required":true,"type":"string"},{"name":"subjectId","in":"path","required":true,"type":"string"},{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/PermissionJson"}}],"security":[{"basic":[]}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/AclJson"}}}}},"/v1/alerts/resource/{resourceId}":{"get":{"tags":["alerts"],"summary":"Get all resource alerts","description":"","operationId":"getAllAlertsByResourceId","produces":["application/json"],"parameters":[{"name":"resourceId","in":"path","required":true,"type":"string"},{"name":"offset","in":"query","required":false,"type":"integer","default":0,"format":"int32"},{"name":"len","in":"query","required":false,"type":"integer","default":-1,"format":"int32"},{"name":"orderBy","in":"query","required":false,"type":"string","default":"TRIGGERED_ON","enum":["TRIGGERED_ON","ALERT_TYPE","LABEL"]},{"name":"order","in":"query","required":false,"type":"string","default":"ASC","enum":["ASC","DESC"]},{"name":"alertStatus","in":"query","required":false,"type":"string","default":"ACTIVE","enum":["ACTIVE","ACKNOWLEDGED"]},{"name":"withWrapper","in":"query","required":false,"type":"boolean","default":false}],"security":[{"basic":[]}],"responses":{"default":{"description":"successful operation"}}}},"/v1/alerts/listAclAudits":{"get":{"tags":["alerts"],"summary":"Get all user actions for given Organization ID","description":"","operationId":"listAclAuditsForOrg","produces":["application/json"],"parameters":[{"name":"organization","in":"query","required":false,"type":"string"},{"name":"offset","in":"query","required":false,"type":"integer","default":0,"format":"int32"},{"name":"len","in":"query","required":false,"type":"integer","default":-1,"format":"int32"},{"name":"sortField","in":"query","required":false,"type":"string","default":"TIME","enum":["TIME","ACTION","REQUESTER_ID","ACL_ID"]},{"name":"sortOrder","in":"query","required":false,"type":"string","default":"DESC","enum":["ASC","DESC"]},{"name":"withWrapper","in":"query","required":false,"type":"boolean","default":false}],"security":[{"basic":[]}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/AclAuditJson"}}}}}},"/v1/bannedEmails":{"get":{"tags":["bannedEmails"],"summary":"Retrieve banned emails","description":"","operationId":"getBannedEmails","produces":["application/json"],"parameters":[{"name":"offset","in":"query","required":false,"type":"integer","default":0,"format":"int32"},{"name":"len","in":"query","required":false,"type":"integer","default":-1,"format":"int32"},{"name":"orderBy","in":"query","required":false,"type":"string","default":"PATTERN","enum":["PATTERN","ADDED_ON","ADDED_BY"]},{"name":"order","in":"query","required":false,"type":"string","default":"ASC","enum":["ASC","DESC"]}],"security":[{"basic":[]}],"responses":{"default":{"description":"successful operation"}}},"post":{"tags":["bannedEmails"],"summary":"Add emails to banned email list","description":"","operationId":"addBannedEmails","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":false,"schema":{"type":"array","items":{"type":"string"}}}],"security":[{"basic":[]}],"responses":{"default":{"description":"successful operation"}}}},"/v1/bannedEmails/delete":{"post":{"tags":["bannedEmails"],"summary":"Remove banned emails from list","description":"","operationId":"deleteBannedEmails","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":false,"schema":{"type":"array","items":{"$ref":"#/definitions/BannedEmailJSON","entity":"BannedEmailJSON"}}}],"security":[{"basic":[]}],"responses":{"default":{"description":"successful operation"}}}},"/v1/bannedEmails/listAclAudits":{"get":{"tags":["bannedEmails"],"summary":"Get all user actions for given Organization ID","description":"","operationId":"listAclAuditsForOrg_1","produces":["application/json"],"parameters":[{"name":"organization","in":"query","required":false,"type":"string"},{"name":"offset","in":"query","required":false,"type":"integer","default":0,"format":"int32"},{"name":"len","in":"query","required":false,"type":"integer","default":-1,"format":"int32"},{"name":"sortField","in":"query","required":false,"type":"string","default":"TIME","enum":["TIME","ACTION","REQUESTER_ID","ACL_ID"]},{"name":"sortOrder","in":"query","required":false,"type":"string","default":"DESC","enum":["ASC","DESC"]},{"name":"withWrapper","in":"query","required":false,"type":"boolean","default":false}],"security":[{"basic":[]}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/AclAuditJson"}}}}}},"/v1/el/definitions":{"get":{"tags":["el"],"summary":"Get all supported expression language definitions for notification","description":"","operationId":"getDefinitions","produces":["application/json"],"parameters":[],"security":[{"basic":[]}],"responses":{"default":{"description":"successful operation"}}}},"/v1/el/eventParameters":{"get":{"tags":["el"],"summary":"Get all supported event types for notification","description":"","operationId":"getEventParameterDefinitionsMap","produces":["application/json"],"parameters":[],"security":[{"basic":[]}],"responses":{"default":{"description":"successful operation"}}}},"/v1/el/listAclAudits":{"get":{"tags":["el"],"summary":"Get all user actions for given Organization ID","description":"","operationId":"listAclAuditsForOrg_2","produces":["application/json"],"parameters":[{"name":"organization","in":"query","required":false,"type":"string"},{"name":"offset","in":"query","required":false,"type":"integer","default":0,"format":"int32"},{"name":"len","in":"query","required":false,"type":"integer","default":-1,"format":"int32"},{"name":"sortField","in":"query","required":false,"type":"string","default":"TIME","enum":["TIME","ACTION","REQUESTER_ID","ACL_ID"]},{"name":"sortOrder","in":"query","required":false,"type":"string","default":"DESC","enum":["ASC","DESC"]},{"name":"withWrapper","in":"query","required":false,"type":"boolean","default":false}],"security":[{"basic":[]}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/AclAuditJson"}}}}}},"/v1/eventsub/{eventSubId}/acl":{"get":{"tags":["eventsubs"],"summary":"Get ACL for a given Event Subscription","description":"","operationId":"getSubscriptionAcl","produces":["application/json"],"parameters":[{"name":"eventSubId","in":"path","required":true,"type":"string"}],"security":[{"basic":[]}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/AclJson"}}}},"post":{"tags":["eventsubs"],"summary":"Update ACL for a given Event Subscription","description":"","operationId":"updateSubscriptionAcl","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"eventSubId","in":"path","required":true,"type":"string"},{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/AclJson"}}],"security":[{"basic":[]}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/AclJson"}}}}},"/v1/eventsub/{eventSubId}/permissions/{subjectId}":{"get":{"tags":["eventsubs"],"summary":"Get permissions on a given event subscription for a given subject","description":"","operationId":"getSubscriptionPermissionsForSubject","produces":["application/json"],"parameters":[{"name":"eventSubId","in":"path","required":true,"type":"string"},{"name":"subjectId","in":"path","required":true,"type":"string"}],"security":[{"basic":[]}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/AclJson"}}}},"post":{"tags":["eventsubs"],"summary":"Update permissions on a given event subscription for a given subject","description":"","operationId":"updateSubscriptionPermissions","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"eventSubId","in":"path","required":true,"type":"string"},{"name":"subjectId","in":"path","required":true,"type":"string"},{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/PermissionJson"}}],"security":[{"basic":[]}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/AclJson"}}}}},"/v1/eventsub/acls":{"post":{"tags":["eventsubs"],"summary":"Returns Acls for all given Event Subscriptions","description":"","operationId":"getAclsForSubscriptions","produces":["application/json"],"parameters":[{"in":"body","name":"body","required":false,"schema":{"type":"array","items":{"type":"string"}}}],"security":[{"basic":[]}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/AclJson"}}}}}},"/v1/eventsub/deleteEventSub":{"post":{"tags":["eventsubs"],"summary":"Delete existing Event Subscription","description":"","operationId":"deleteEventSubscription","produces":["application/json"],"parameters":[{"in":"body","name":"body","required":false,"schema":{"type":"string"}}],"security":[{"basic":[]}],"responses":{"default":{"description":"successful operation"}}}},"/v1/eventsub":{"get":{"tags":["eventsubs"],"summary":"Get all event subscriptions","description":"","operationId":"getAllEventSubscriptions","produces":["application/json"],"parameters":[{"name":"organization","in":"query","required":false,"type":"string"},{"name":"offset","in":"query","required":false,"type":"integer","default":0,"format":"int32"},{"name":"len","in":"query","required":false,"type":"integer","default":-1,"format":"int32"},{"name":"orderBy","in":"query","required":false,"type":"string","default":"NAME","enum":["NAME","CREATE_TIME"]},{"name":"order","in":"query","required":false,"type":"string","default":"ASC","enum":["ASC","DESC"]},{"name":"withWrapper","in":"query","required":false,"type":"boolean"}],"security":[{"basic":[]}],"responses":{"default":{"description":"successful operation"}}}},"/v1/eventsub/ackEventSubError":{"post":{"tags":["eventsubs"],"summary":"Acknowledge an error on given Event Subscription","description":"","operationId":"ackEventSubscriptionError","produces":["application/json"],"parameters":[{"in":"body","name":"body","required":false,"schema":{"type":"string"}}],"security":[{"basic":[]}],"responses":{"default":{"description":"successful operation"}}}},"/v1/eventsub/createEventSub":{"put":{"tags":["eventsubs"],"summary":"Create new Event Subscription","description":"","operationId":"createEventSubscription","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/EventSubscriptionJson"}}],"security":[{"basic":[]}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/EventSubscriptionJson"}}}}},"/v1/eventsub/updateEventSub":{"post":{"tags":["eventsubs"],"summary":"Update existing Event Subscription","description":"","operationId":"updateEventSubscription","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/EventSubscriptionJson"}}],"security":[{"basic":[]}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/EventSubscriptionJson"}}}}},"/v1/eventsub/listAclAudits":{"get":{"tags":["eventsubs"],"summary":"Get all user actions for given Organization ID","description":"","operationId":"listAclAuditsForOrg_3","produces":["application/json"],"parameters":[{"name":"organization","in":"query","required":false,"type":"string"},{"name":"offset","in":"query","required":false,"type":"integer","default":0,"format":"int32"},{"name":"len","in":"query","required":false,"type":"integer","default":-1,"format":"int32"},{"name":"sortField","in":"query","required":false,"type":"string","default":"TIME","enum":["TIME","ACTION","REQUESTER_ID","ACL_ID"]},{"name":"sortOrder","in":"query","required":false,"type":"string","default":"DESC","enum":["ASC","DESC"]},{"name":"withWrapper","in":"query","required":false,"type":"boolean","default":false}],"security":[{"basic":[]}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/AclAuditJson"}}}}}},"/v1/events/deleteSubjectFromAcl/{subjectId}":{"delete":{"tags":["events"],"summary":"Delete subject from ACL","description":"","operationId":"deleteSubjectFromACL","produces":["application/json"],"parameters":[{"name":"subjectId","in":"path","required":true,"type":"string"}],"security":[{"basic":[]}],"responses":{"default":{"description":"successful operation"}}}},"/v1/events/eventTypes":{"get":{"tags":["events"],"summary":"Get all supported event types for notification","description":"","operationId":"getEventTypes","produces":["application/json"],"parameters":[],"security":[{"basic":[]}],"responses":{"default":{"description":"successful operation"}}}},"/v1/events/listAclAudits":{"get":{"tags":["events"],"summary":"Get all user actions for given Organization ID","description":"","operationId":"listAclAuditsForOrg_4","produces":["application/json"],"parameters":[{"name":"organization","in":"query","required":false,"type":"string"},{"name":"offset","in":"query","required":false,"type":"integer","default":0,"format":"int32"},{"name":"len","in":"query","required":false,"type":"integer","default":-1,"format":"int32"},{"name":"sortField","in":"query","required":false,"type":"string","default":"TIME","enum":["TIME","ACTION","REQUESTER_ID","ACL_ID"]},{"name":"sortOrder","in":"query","required":false,"type":"string","default":"DESC","enum":["ASC","DESC"]},{"name":"withWrapper","in":"query","required":false,"type":"boolean","default":false}],"security":[{"basic":[]}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/AclAuditJson"}}}}}},"/v1/externalActions/audits":{"get":{"tags":["externalActions"],"summary":"Get all external action audits","description":"","operationId":"getExternalActionAudits","produces":["application/json"],"parameters":[{"name":"offset","in":"query","required":false,"type":"integer","default":0,"format":"int32"},{"name":"len","in":"query","required":false,"type":"integer","default":-1,"format":"int32"},{"name":"orderBy","in":"query","required":false,"type":"string","default":"CREATED_TIME","enum":["CREATED_TIME","SUBSCRIPTION_NAME","SUBSCRIPTION_ID","EXTERNAL_ACTION_TYPE","EXTERNAL_ACTION_ID","EVENT_NAME"]},{"name":"order","in":"query","required":false,"type":"string","default":"ASC","enum":["ASC","DESC"]},{"name":"withWrapper","in":"query","required":false,"type":"boolean"}],"security":[{"basic":[]}],"responses":{"default":{"description":"successful operation"}}}},"/v1/externalActions/actionTypes":{"get":{"tags":["externalActions"],"summary":"Get all supported external action types for notification","description":"","operationId":"getActionTypes","produces":["application/json"],"parameters":[],"security":[{"basic":[]}],"responses":{"default":{"description":"successful operation"}}}},"/v1/externalActions/listAclAudits":{"get":{"tags":["externalActions"],"summary":"Get all user actions for given Organization ID","description":"","operationId":"listAclAuditsForOrg_5","produces":["application/json"],"parameters":[{"name":"organization","in":"query","required":false,"type":"string"},{"name":"offset","in":"query","required":false,"type":"integer","default":0,"format":"int32"},{"name":"len","in":"query","required":false,"type":"integer","default":-1,"format":"int32"},{"name":"sortField","in":"query","required":false,"type":"string","default":"TIME","enum":["TIME","ACTION","REQUESTER_ID","ACL_ID"]},{"name":"sortOrder","in":"query","required":false,"type":"string","default":"DESC","enum":["ASC","DESC"]},{"name":"withWrapper","in":"query","required":false,"type":"boolean","default":false}],"security":[{"basic":[]}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/AclAuditJson"}}}}}}},"definitions":{"AclJson":{"type":"object","properties":{"resourceId":{"type":"string"},"organization":{"type":"string"},"resourceOwner":{"type":"string"},"resourceCreatedTime":{"type":"integer","format":"int64"},"resourceType":{"type":"string","enum":["JOB","LOCAL_PIPELINE","PIPELINE","SDC","TOPOLOGY","SLA","ALERT","DEPLOYMENT","DPM_AGENT","SCHEDULER_JOB","EVENT_SUBSCRIPTION","REPORT_DEFINITION","CONNECTION","CSP_ENVIRONMENT","CSP_DEPLOYMENT","STAGE_DESTINATION","MIGRATION","JOB_SEQUENCE"]},"lastModifiedBy":{"type":"string"},"lastModifiedOn":{"type":"integer","format":"int64"},"permissions":{"type":"array","items":{"$ref":"#/definitions/PermissionJson"}}}},"PermissionJson":{"type":"object","properties":{"resourceId":{"type":"string"},"subjectId":{"type":"string"},"subjectType":{"type":"string","enum":["USER","GROUP"]},"lastModifiedBy":{"type":"string"},"lastModifiedOn":{"type":"integer","format":"int64"},"actions":{"type":"array","items":{"type":"string","enum":["READ","WRITE","EXECUTE"]}}}},"AclAuditJson":{"type":"object","properties":{"subjectId":{"type":"string"},"resourceId":{"type":"string"},"resourceType":{"type":"string"},"action":{"type":"string"},"fieldType":{"type":"string"},"oldValue":{"type":"string"},"newValue":{"type":"string"},"requesterId":{"type":"string"},"orgId":{"type":"string"},"time":{"type":"integer","format":"int64"},"ipAddress":{"type":"string"}}},"BannedEmailJSON":{"type":"object","properties":{"pattern":{"type":"string"},"addedOn":{"type":"integer","format":"int64"},"addedBy":{"type":"string"}}},"EventInfoJson":{"type":"object","properties":{"id":{"type":"string"},"eventType":{"type":"string"},"filter":{"type":"string"}}},"EventSubscriptionJson":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"organization":{"type":"string"},"creator":{"type":"string"},"createTime":{"type":"integer","format":"int64"},"lastModifiedBy":{"type":"string"},"lastModifiedOn":{"type":"integer","format":"int64"},"destroyer":{"type":"string"},"deleteTime":{"type":"integer","format":"int64"},"events":{"type":"array","items":{"$ref":"#/definitions/EventInfoJson"}},"externalActions":{"type":"array","items":{"$ref":"#/definitions/ExternalActionJson"}},"enabled":{"type":"boolean"},"deleted":{"type":"boolean"},"lastTriggered":{"type":"integer","format":"int64"},"triggerCount":{"type":"integer","format":"int32"},"errorMessage":{"type":"string"}}},"ExternalActionJson":{"type":"object","properties":{"id":{"type":"string"},"eventType":{"type":"string","enum":["WEBHOOKV1","EMAIL"]},"config":{"type":"string"}}}}}